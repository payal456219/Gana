<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CA Mentor AI - Deep Expert Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body { background-color: #0b1120; color: #f8fafc; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .tab-content { display: none; }
        .active-tab { display: block; animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        #chatbox { height: 70vh; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        .ai-msg { background: #1e293b; padding: 15px; border-radius: 20px 20px 20px 5px; max-width: 85%; border: 1px solid #334155; position: relative; }
        .user-msg { background: #3b82f6; padding: 12px 18px; border-radius: 20px 20px 5px 20px; align-self: flex-end; max-width: 80%; }
        
        .speaker-btn { position: absolute; top: 10px; right: 10px; cursor: pointer; color: #94a3b8; transition: 0.3s; }
        .speaker-btn:hover { color: #ffffff; }
    </style>
</head>
<body>

    <div id="aiChat" class="tab-content active-tab">
        <div class="p-4 border-b border-gray-800 bg-[#0b1120] flex items-center justify-between sticky top-0 z-50">
            <div class="flex items-center gap-3">
                <i class="fas fa-user-graduate text-blue-500 text-xl"></i>
                <div>
                    <h2 class="font-bold text-lg leading-tight">CA Mentor AI</h2>
                    <p class="text-[10px] text-green-400">Deep Knowledge Expert</p>
                </div>
            </div>
            <button onclick="window.location.reload()"><i class="fas fa-sync-alt text-gray-500"></i></button>
        </div>

        <div id="chatbox">
            <div class="ai-msg">
                <i class="fas fa-volume-up speaker-btn" onclick="speakText(this)"></i>
                नमस्ते! मी CA एक्सपर्ट आहे. मी **Foundation, Intermediate, आणि Final** तिन्ही लेव्हलच्या सर्व विषयांची सविस्तर माहिती देऊ शकतो. तुमचा प्रश्न विचारा!
            </div>
        </div>

        <div class="fixed bottom-0 left-0 right-0 p-4 bg-[#0b1120] border-t border-gray-800">
            <div class="flex gap-2">
                <input type="text" id="userInput" placeholder="विचारा (उदा. GST Audit, AS-10, Law...)" class="flex-1 bg-slate-800 border border-slate-700 rounded-full px-5 py-3 outline-none focus:border-blue-500">
                <button onclick="sendMessage()" class="w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center shadow-lg"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <script>
        // --- DEEP EXPERT DATASET ---
        const caExpertBrain = {
            // FOUNDATION
            "accounting": "<b>Accounting:</b> यामध्ये Golden Rules (Personal, Real, Nominal) महत्त्वाचे आहेत. तसेच Final Accounts, Rectification of Errors आणि BRS वर प्रश्न येतात.",
            "law": "<b>Business Law:</b> Indian Contract Act 1872 हा सर्वात महत्त्वाचा भाग आहे. Offer, Acceptance आणि Consideration च्या कायदेशीर तरतुदी नीट वाचा.",
            "economics": "<b>Economics:</b> Demand-Supply, Price Determination आणि Business Cycles हे मुख्य टॉपिक्स आहेत.",
            
            // INTERMEDIATE
            "taxation": "<b>Taxation:</b> Income Tax मध्ये ५ Heads (Salary, HP, PGBP, CG, OS) आणि GST मध्ये 'Input Tax Credit' (ITC) हे सर्वात महत्त्वाचे आहे.",
            "audit": "<b>Auditing:</b> Audit म्हणजे पुरावे गोळा करणे. SAs (Standards on Auditing) जसे की SA 200, 500, 700 हे पाठ असणे आवश्यक आहे.",
            "costing": "<b>Costing:</b> Marginal Costing, Standard Costing आणि Budgetary Control हे स्कोरिंग टॉपिक्स आहेत.",
            
            // FINAL
            "fr": "<b>Financial Reporting:</b> यात Ind AS (Indian Accounting Standards) जसे की Ind AS 115 (Revenue) आणि 116 (Leases) वर प्रभुत्व हवे.",
            "afm": "<b>Adv. Fin. Management:</b> Portfolio Management, Derivatives आणि Forex हे गणितीय भाग खूप महत्त्वाचे आहेत.",
            "dt": "<b>Direct Tax:</b> International Taxation आणि Transfer Pricing हे फायनल लेव्हलला जास्त वेटेज असलेले भाग आहेत.",
            "idt": "<b>Indirect Tax:</b> GST सोबतच Customs Act आणि FTP (Foreign Trade Policy) चा अभ्यास करावा लागतो.",

            // GENERAL CA TOPICS
            "articleship": "<b>Articleship:</b> ३ वर्षांची आर्टिकलशिप ही प्रॅक्टिकल नॉलेज मिळवण्यासाठी अनिवार्य आहे. ऑडिटिंग आणि टॅक्सेशनचे प्रत्यक्ष काम इथे शिकता येते.",
            "gdp": "<b>GDP:</b> देशाच्या सीमेत उत्पादित वस्तू आणि सेवांचे मूल्य. CA म्हणून तुम्हाला याचे विश्लेषण (Analysis) करता आले पाहिजे.",
            "gst": "<b>GST (वस्तु व सेवा कर):</b> हा १ जुलै २०१७ ला लागू झाला. 'One Nation One Tax' ही याची मुख्य संकल्पना आहे."
        };

        // --- SPEECH ENGINE (उत्तर वाचून दाखवणे) ---
        function speakText(btn) {
            const text = btn.parentElement.innerText;
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'mr-IN'; // मराठी आवाज
            utterance.rate = 1;
            window.speechSynthesis.speak(utterance);
        }

        // --- SEND MESSAGE LOGIC ---
        function sendMessage() {
            const input = document.getElementById('userInput');
            const chatbox = document.getElementById('chatbox');
            let userText = input.value.trim().toLowerCase();
            if (!userText) return;

            chatbox.innerHTML += `<div class="user-msg">${input.value}</div>`;
            input.value = "";

            setTimeout(() => {
                let answer = "<b>क्षमस्व!</b> या विषयावर मी सध्या रिसर्च करत आहे. पण मी **Accounting, Taxation, Law, Audit किंवा Exam Tips** वर सविस्तर माहिती देऊ शकतो.";

                // Smart Matching
                for (let key in caExpertBrain) {
                    if (userText.includes(key)) {
                        answer = caExpertBrain[key];
                        break;
                    }
                }

                chatbox.innerHTML += `
                    <div class="ai-msg">
                        <i class="fas fa-volume-up speaker-btn" onclick="speakText(this)"></i>
                        ${answer}
                    </div>`;
                chatbox.scrollTop = chatbox.scrollHeight;
            }, 600);
        }
    </script>
</body>
</html>
