<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CA AI Partner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/dist/css/all.min.css">
    <style>
        body { background-color: #0f172a; color: white; font-family: 'Segoe UI', sans-serif; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); }
        .tab-content { display: none; padding-bottom: 80px; }
        .active-tab { display: block; }
        
        /* Chat UI Design */
        #chatbox { height: 65vh; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
        .user-msg { background: #3b82f6; align-self: flex-end; border-radius: 15px 15px 0 15px; padding: 10px 15px; max-width: 80%; }
        .ai-msg { background: #1e293b; align-self: flex-start; border-radius: 15px 15px 15px 0; padding: 12px 15px; max-width: 85%; border: 1px solid #334155; position: relative; }
        .speaker-btn { font-size: 12px; color: #94a3b8; margin-top: 5px; cursor: pointer; display: block; }
    </style>
</head>
<body>

    <header class="p-4 glass sticky top-0 z-50 flex justify-between items-center border-b border-gray-800">
        <div class="flex items-center gap-2">
            <img src="https://i.postimg.cc/YqJMPdbb/1769782227060.png" class="w-10 h-10 rounded-full border border-purple-500">
            <div>
                <h1 class="font-bold text-sm">AI Study Assistant</h1>
                <p class="text-[10px] text-green-400">Foundation Level â€¢ Online</p>
            </div>
        </div>
        <i class="fas fa-ellipsis-v text-gray-400"></i>
    </header>

    <main class="p-4">
        <div id="ai" class="tab-content active-tab">
            <div id="chatbox" class="p-2">
                <div class="ai-msg">
                    Hello! I'm your CA Mentor AI assistant. Ask me anything about Accounting, Taxation, or Law!
                    <span class="speaker-btn" onclick="speakText(this.parentElement.innerText)"><i class="fas fa-volume-up mr-1"></i> Listen</span>
                </div>
            </div>

            <div class="fixed bottom-20 left-0 right-0 p-3 bg-slate-900 border-t border-gray-800 flex items-center gap-2">
                <div class="flex-1 bg-gray-800 rounded-full px-4 py-2 flex items-center border border-gray-700">
                    <input type="text" id="aiInput" placeholder="Ask me anything about CA..." class="bg-transparent w-full outline-none text-sm py-1">
                </div>
                <button onclick="askAI()" class="bg-blue-600 w-12 h-12 rounded-full flex items-center justify-center shadow-lg active:scale-95 transition">
                    <i class="fas fa-paper-plane text-white text-lg"></i>
                </button>
            </div>
        </div>
    </main>

    <nav class="fixed bottom-0 left-0 right-0 glass p-3 flex justify-around border-t border-gray-800">
        <button onclick="showTab('ai')" class="flex flex-col items-center text-blue-500"><i class="fas fa-robot text-xl"></i><span class="text-[10px] mt-1">Chat AI</span></button>
        <button onclick="alert('Coming soon!')" class="flex flex-col items-center text-gray-400"><i class="fas fa-book-open text-xl"></i><span class="text-[10px] mt-1">Subjects</span></button>
        <button onclick="alert('Support: 7719081975')" class="flex flex-col items-center text-gray-400"><i class="fas fa-headset text-xl"></i><span class="text-[10px] mt-1">Support</span></button>
    </nav>

    <script>
        function askAI() {
            const input = document.getElementById('aiInput');
            const chatbox = document.getElementById('chatbox');
            if (!input.value.trim()) return;

            // User Message
            const userDiv = document.createElement('div');
            userDiv.className = 'user-msg';
            userDiv.innerText = input.value;
            chatbox.appendChild(userDiv);

            const userText = input.value;
            input.value = '';
            chatbox.scrollTop = chatbox.scrollHeight;

            // AI Thinking & Response
            setTimeout(() => {
                const aiDiv = document.createElement('div');
                aiDiv.className = 'ai-msg';
                const response = "I am processing your query about '" + userText + "'. Based on the CA Foundation curriculum, this topic is vital for your exams. Would you like a detailed explanation?";
                
                aiDiv.innerHTML = `
                    ${response}
                    <span class="speaker-btn" onclick="speakText('${response}')"><i class="fas fa-volume-up mr-1"></i> Listen</span>
                `;
                
                chatbox.appendChild(aiDiv);
                chatbox.scrollTop = chatbox.scrollHeight;
            }, 1000);
        }

        function speakText(text) {
            // Text to Speech Function
            window.speechSynthesis.cancel(); // Stop any previous speaking
            const speech = new SpeechSynthesisUtterance(text);
            speech.lang = 'en-US';
            speech.rate = 1.0;
            window.speechSynthesis.speak(speech);
        }

        function showTab(tabId) {
            // Function to switch tabs if needed
        }
    </script>
</body>
</html>
